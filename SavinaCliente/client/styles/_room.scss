.room-main {
  @include display(flex);
  @include flex-basis(100%);
  @include justify-content(flex-start);
  @include align-items(stretch);
  @include align-content(flex-start);
  @include flex-direction(column);

  nav .btn-group {
    @include flex(0 0 auto);

    button {
      @include flex(1 0 auto);
    }
  }

  .panel {
    @include flex(0 0 auto);
    margin-bottom: $padding-base;

    nav {
      // margin-bottom: $padding-base;
      margin: 0;
    }
  }

  .room-content {
    @include display(flex);
    @include flex-direction(row);
    @include align-items(stretch);
    @include flex(1);
    min-width : 100%;
    overflow-y: scroll;

    .content {
      @include display(flex);
      @include flex-direction(column);
      @include flex(1);
      padding-right: $padding-base;

      .conference {
        padding-bottom: $padding-base;
        @include display(flex);
        @include flex-direction(column);
        @include align-items(stretch);
        @include flex(0 0 auto);

        .videos {
          @include display(flex);
          @include flex-direction(row);
          @include align-items(flex-start);
          min-width: 100%;

          .video-frame {
            @include flex(0);
            @include flex-basis(50%);
            @include display(flex);
            @include align-items(center);
            min-width: 50%;
            width    : 50%;

            .video {
              @include display(flex);
              @include align-items(center);
              @include align-content(center);
              width         : 100%;
              padding-bottom: 56.25%;
              position      : relative;
              overflow      : hidden;
              background    : $default-normal;

              video {
                @include flex(1);
                display        : block;
                position       : absolute;
                width          : 100%;
                height         : 100%;
                object-fit     : cover;
                object-position: center;
                top            : 0;
                left           : 0;
              }
            }

            &:first-child {
              @include order(1);
              padding-left: floor($padding-base / 2);
            }

            &:last-child {
              @include order(0);
              padding-right: floor($padding-base / 2);
            }
          }

          &.expanded {
            display : block;
            position: relative;

            .video-frame {
              &:first-child {
                display: block;
                width  : 100%;
                padding: 0;
              }

              &:last-child {
                @include box-shadow(0 0 $padding-base black);
                padding  : 0;
                display  : block;
                min-width: 0;
                width    : 25%;
                position : absolute;
                bottom   : $padding-base;
                left     : $padding-base;
              }
            }
          }
        }
      }

      .views {
        @include flex-basis(100%);
        @include flex(1);
        overflow-y: scroll;
        overflow-x: hidden;
        min-width : 100%;
      }
    }
  }

  .messaging {
    @include display(flex);
    @include flex-direction(column);
    @include align-content(stretch);
    @include align-items(stretch);
    @include justify-content(center);
    @include flex-basis(30%);
    @include flex-grow(0);
    min-width: 30%;

    .message-list {
      @include flex(1);
      overflow-y: scroll;
      list-style: none;

      .message {
        display: block;

        .bubble {
          @include display(flex);
          @include flex-direction(row);

          .image {
            width              : 48px;
            height             : 48px;
            background-position: center;
            background-repeat  : no-repeat;
            background-size    : cover;
            background-image   : url("../images/profile.png");
          }

          .body {
            @include flex(1);
            padding      : $padding-base-vertical $padding-base-horizontal;
            margin-bottom: $padding-base-vertical;
            background   : $default-softer;
            display      : inline-block;
            text-align   : left;

            p {
              word-wrap: break-word;
              margin   : 0;
            }

            .status {
              text-transform: uppercase;
              text-shadow   : none;
              font-size     : 12px;

              small {
                display: inline-block;
              }
            }
          }
        }

        &.own {
          .bubble {
            @include justify-content(flex-end);

            .image {
              @include order(1);
            }

            .body {
              text-align: right;

              p {
                @include order(0);
                text-align: right;
              }
            }
          }
        }

        &.continued {
          .bubble {
            .image {
              background-image: none;
              visibility      : hidden;
            }
          }
        }
      }
    }

    .message-input {
      @include display(flex);
      @include align-self(flex-end);
      @include flex-shrink(0);
      @include flex-grow(0);
      min-width: 100%;

      .input-group {
        @include flex(1);
      }
    }
  }
}
